#Template Version 1.0.0

name: Publish to Artifactory

on:
  release:
    types: [published,edited]

jobs:
  test:
    runs-on: ubuntu-latest
    env:
        GIT_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        
    name: A job to test this action
    steps:        
    - uses: dsaltares/fetch-gh-release-asset@master
      with:
        repo: "${{ github.repository }}"
        file: "v11.02.12.zip"
        target: "release-asset.zip"
        token: ${{ secrets.GITHUB_TOKEN }} 
    
    - name: Display download directory
      run: | 
          ls -R
          
    - name: publish to artifactory
      uses: advancedcsg-open/action-jfrog-cli@master
      with:
        url: 'https://itsme.jfrog.io/'
        credentials type: 'username'
        user: 'tilakkalyan@gmail.com'
        password: 'AP6ijSZxh96vs87ZLeu4RZuQREJ'
        args: u "release-asset.zip" "/artifactory/default-maven-virtual/" 

